<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ user.username }}â€™s Profile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="appContainer">
        <div id="profileMenuContainer">
            <button id="profileButton" aria-label="User Profile">
                <img class="profile-pic" src="{{ url_for('static', filename=user.avatar or 'avatar.png') }}" alt="{{ user.username }}">
            </button>
            <div id="profileMenu">
                <ul>
                    <li><a href="/profile/{{ user.id }}">Profile</a></li>
                    <li><a href="/logout">Logout</a></li>
                </ul>
            </div>
        </div>

        <h1 id="title">Profile</h1>
        <div id="content" class="profile-content">
            <div class="profile-card">
                <img class="profile-pic" src="{{ url_for('static', filename=user.avatar or 'avatar.png') }}" alt="{{ user.username }}">
                <h2>{{ user.username }}</h2>
                <p><strong>User ID:</strong> {{ user.id }}</p>
            </div>
        </div>

        <p><a href="{{ url_for('chat') }}">Back to Chat</a></p>
    </div>

    <script>
        const profileButton = document.getElementById('profileButton');
        const profileMenu = document.getElementById('profileMenu');
        profileButton.addEventListener('click', e => { e.stopPropagation(); profileMenu.classList.toggle('open'); });
        document.addEventListener('click', () => { profileMenu.classList.remove('open'); });
    </script>
</body>
</html>
